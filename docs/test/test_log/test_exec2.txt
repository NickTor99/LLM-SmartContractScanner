(venv) PS C:\Users\Smart\IdeaProjects\LLM-SmartContractScanner> coverage run --branch -m pytest tests/ -v
======================================================================================================= test session starts =======================================================================================================
platform win32 -- Python 3.11.5, pytest-8.4.1, pluggy-1.6.0 -- C:\Users\Smart\IdeaProjects\LLM-SmartContractScanner\venv\Scripts\python.exe
cachedir: .pytest_cache
rootdir: C:\Users\Smart\IdeaProjects\LLM-SmartContractScanner
plugins: anyio-4.9.0
collected 72 items                                                                                                                                                                                                                 

tests/integration_test/test_integration_code_analysis.py::TestCodeAnalysisIntegration::test_code_analysis_llm_failure PASSED                                                                                                 [  1%] 
tests/integration_test/test_integration_code_analysis.py::TestCodeAnalysisIntegration::test_code_analysis_success PASSED                                                                                                     [  2%] 
tests/integration_test/test_integration_retrieval_engine.py::TestRetrievalEngineIntegration::test_descriptor_failure PASSED                                                                                                  [  4%]
tests/integration_test/test_integration_retrieval_engine.py::TestRetrievalEngineIntegration::test_embedder_failure PASSED                                                                                                    [  5%]
tests/integration_test/test_integration_retrieval_engine.py::TestRetrievalEngineIntegration::test_retrieval_empty_code PASSED                                                                                                [  6%]
tests/integration_test/test_integration_retrieval_engine.py::TestRetrievalEngineIntegration::test_retrieval_simple_contract PASSED                                                                                           [  8%]
tests/integration_test/test_integration_retrieval_engine.py::TestRetrievalEngineIntegration::test_searcher_failure PASSED                                                                                                    [  9%]
tests/integration_test/test_integration_vuln_analysis.py::TestCodeAnalysisIntegration::test_code_analysis_llm_failure PASSED                                                                                                 [ 11%] 
tests/integration_test/test_integration_vuln_analysis.py::TestCodeAnalysisIntegration::test_code_analysis_success PASSED                                                                                                     [ 12%] 
tests/system_test/test_system.py::TestSystemMain::test_directory_instead_of_file PASSED                                                                                                                                      [ 13%] 
tests/system_test/test_system.py::TestSystemMain::test_empty_contract PASSED                                                                                                                                                 [ 15%] 
tests/system_test/test_system.py::TestSystemMain::test_file_not_found PASSED                                                                                                                                                 [ 16%] 
tests/system_test/test_system.py::TestSystemMain::test_invalid_contract PASSED                                                                                                                                               [ 18%] 
tests/system_test/test_system.py::TestSystemMain::test_valid_contract PASSED                                                                                                                                                 [ 19%]
tests/unit_test/test_HFLLM.py::TestHFLLM::test_generate_empty_prompt PASSED                                                                                                                                                  [ 20%]
tests/unit_test/test_HFLLM.py::TestHFLLM::test_generate_long_prompt PASSED                                                                                                                                                   [ 22%]
tests/unit_test/test_HFLLM.py::TestHFLLM::test_generate_valid_prompt PASSED                                                                                                                                                  [ 23%]
tests/unit_test/test_HFLLM.py::TestHFLLM::test_init_invalid_model PASSED                                                                                                                                                     [ 25%]
tests/unit_test/test_HFLLM.py::TestHFLLM::test_init_success PASSED                                                                                                                                                           [ 26%]
tests/unit_test/test_code_analysis.py::TestCodeAnalysis::test_get_possible_vulns_generation_error PASSED                                                                                                                     [ 27%] 
tests/unit_test/test_code_analysis.py::TestCodeAnalysis::test_get_possible_vulns_parse_error PASSED                                                                                                                          [ 29%] 
tests/unit_test/test_code_analysis.py::TestCodeAnalysis::test_get_possible_vulns_success PASSED                                                                                                                              [ 30%] 
tests/unit_test/test_code_analysis.py::TestCodeAnalysis::test_init_failure PASSED                                                                                                                                            [ 31%] 
tests/unit_test/test_code_analysis.py::TestCodeAnalysis::test_init_successful PASSED                                                                                                                                         [ 33%] 
tests/unit_test/test_code_analysis.py::TestCodeAnalysis::test_parse_response_json_error PASSED                                                                                                                               [ 34%]
tests/unit_test/test_code_analysis.py::TestCodeAnalysis::test_parse_response_missing_section PASSED                                                                                                                          [ 36%] 
tests/unit_test/test_code_analysis.py::TestCodeAnalysis::test_parse_response_success PASSED                                                                                                                                  [ 37%] 
tests/unit_test/test_code_descriptor.py::TestCodeDescriptor::test_get_description_failure PASSED                                                                                                                             [ 38%] 
tests/unit_test/test_code_descriptor.py::TestCodeDescriptor::test_get_description_successful PASSED                                                                                                                          [ 40%] 
tests/unit_test/test_code_descriptor.py::TestCodeDescriptor::test_init_successful PASSED                                                                                                                                     [ 41%] 
tests/unit_test/test_contract_searcher.py::TestContractSearcher::test_invalid_collection_name PASSED                                                                                                                         [ 43%]
tests/unit_test/test_contract_searcher.py::TestContractSearcher::test_invalid_url_db PASSED                                                                                                                                  [ 44%]
tests/unit_test/test_contract_searcher.py::TestContractSearcher::test_search_vulns_empty_result PASSED                                                                                                                       [ 45%]
tests/unit_test/test_contract_searcher.py::TestContractSearcher::test_search_vulns_missing_fields PASSED                                                                                                                     [ 47%]
tests/unit_test/test_contract_searcher.py::TestContractSearcher::test_search_vulns_successful PASSED                                                                                                                         [ 48%]
tests/unit_test/test_embedding_model.py::TestEmbeddingModelRealModel::test_encode_empty_input PASSED                                                                                                                         [ 50%]
tests/unit_test/test_embedding_model.py::TestEmbeddingModelRealModel::test_encode_exceeds_max_tokens PASSED                                                                                                                  [ 51%]
tests/unit_test/test_embedding_model.py::TestEmbeddingModelRealModel::test_encode_failure PASSED                                                                                                                             [ 52%]
tests/unit_test/test_embedding_model.py::TestEmbeddingModelRealModel::test_encode_valid_input PASSED                                                                                                                         [ 54%]
tests/unit_test/test_embedding_model.py::TestEmbeddingModelRealModel::test_init_failure PASSED                                                                                                                               [ 55%]
tests/unit_test/test_openai_llm.py::TestOpenAILLM::test_generate_invalid_apikey PASSED                                                                                                                                       [ 56%]
tests/unit_test/test_openai_llm.py::TestOpenAILLM::test_generate_invalid_modelname PASSED                                                                                                                                    [ 58%]
tests/unit_test/test_openai_llm.py::TestOpenAILLM::test_generate_invalid_url PASSED                                                                                                                                          [ 59%]
tests/unit_test/test_openai_llm.py::TestOpenAILLM::test_generate_long_prompt PASSED                                                                                                                                          [ 61%]
tests/unit_test/test_openai_llm.py::TestOpenAILLM::test_generate_success PASSED                                                                                                                                              [ 62%]
tests/unit_test/test_retrieval_engine.py::TestRetrievalEngine::test_get_similar_contracts_descriptor_or_embedder_error PASSED                                                                                                [ 63%]
tests/unit_test/test_retrieval_engine.py::TestRetrievalEngine::test_get_similar_contracts_http_error PASSED                                                                                                                  [ 65%] 
tests/unit_test/test_retrieval_engine.py::TestRetrievalEngine::test_get_similar_contracts_invalid_json PASSED                                                                                                                [ 66%]
tests/unit_test/test_retrieval_engine.py::TestRetrievalEngine::test_get_similar_contracts_success PASSED                                                                                                                     [ 68%] 
tests/unit_test/test_utils.py::TestMapVulnerability::test_case_sensitivity PASSED                                                                                                                                            [ 69%] 
tests/unit_test/test_utils.py::TestMapVulnerability::test_edge_cases PASSED                                                                                                                                                  [ 70%] 
tests/unit_test/test_utils.py::TestMapVulnerability::test_reverse_mappings PASSED                                                                                                                                            [ 72%] 
tests/unit_test/test_utils.py::TestMapVulnerability::test_standard_mappings PASSED                                                                                                                                           [ 73%] 
tests/unit_test/test_utils.py::TestLoadString::test_load_string_encoding_error PASSED                                                                                                                                        [ 75%] 
tests/unit_test/test_utils.py::TestLoadString::test_load_string_file_not_found PASSED                                                                                                                                        [ 76%] 
tests/unit_test/test_utils.py::TestLoadString::test_load_string_success PASSED                                                                                                                                               [ 77%] 
tests/unit_test/test_utils.py::TestMergeVuln::test_merge_different_types PASSED                                                                                                                                              [ 79%] 
tests/unit_test/test_utils.py::TestMergeVuln::test_merge_empty_lists PASSED                                                                                                                                                  [ 80%] 
tests/unit_test/test_utils.py::TestMergeVuln::test_merge_no_duplicates PASSED                                                                                                                                                [ 81%] 
tests/unit_test/test_utils.py::TestMergeVuln::test_merge_preserves_order PASSED                                                                                                                                              [ 83%] 
tests/unit_test/test_utils.py::TestMergeVuln::test_merge_with_duplicates PASSED                                                                                                                                              [ 84%] 
tests/unit_test/test_utils.py::TestGetValidFilepath::test_keyboard_interrupt PASSED                                                                                                                                          [ 86%] 
tests/unit_test/test_utils.py::TestGetValidFilepath::test_retry_after_directory PASSED                                                                                                                                       [ 87%] 
tests/unit_test/test_utils.py::TestGetValidFilepath::test_retry_after_file_not_found PASSED                                                                                                                                  [ 88%] 
tests/unit_test/test_utils.py::TestGetValidFilepath::test_valid_file PASSED                                                                                                                                                  [ 90%] 
tests/unit_test/test_vuln_analysis.py::TestVulnAnalysis::test_get_prompt_structure PASSED                                                                                                                                    [ 91%]
tests/unit_test/test_vuln_analysis.py::TestVulnAnalysis::test_get_vuln_analysis_empty_code PASSED                                                                                                                            [ 93%] 
tests/unit_test/test_vuln_analysis.py::TestVulnAnalysis::test_get_vuln_analysis_file_not_found PASSED                                                                                                                        [ 94%] 
tests/unit_test/test_vuln_analysis.py::TestVulnAnalysis::test_get_vuln_analysis_json_decode_error PASSED                                                                                                                     [ 95%] 
tests/unit_test/test_vuln_analysis.py::TestVulnAnalysis::test_get_vuln_analysis_key_error PASSED                                                                                                                             [ 97%]
tests/unit_test/test_vuln_analysis.py::TestVulnAnalysis::test_get_vuln_analysis_missing_detail_field PASSED                                                                                                                  [ 98%] 
tests/unit_test/test_vuln_analysis.py::TestVulnAnalysis::test_get_vuln_analysis_success PASSED                                                                                                                               [100%] 

================================================================================================= 72 passed in 232.60s (0:03:52) ================================================================================================== 